<form (ngSubmit)="submit()" [formGroup]="form" class="form">
  <div *ngIf="form.get('newsName') as newsName">
    <label class="form__label">Name of the news*
      <input
        class="form__input form__field"
        formControlName="newsName"
        type="text"
      />
    </label>
    <app-form-error *ngIf="newsName.invalid && newsName.dirty" [error]="newsName.errors"></app-form-error>
  </div>

  <div *ngIf="form.get('shortDescribtion') as shortDescribtion">
    <label class="form__label form__user-text">
      Short-describtion*
      <textarea
        class="form__textarea form__field"
        formControlName="shortDescribtion"
      ></textarea>
    </label>
    <app-form-error *ngIf="shortDescribtion.invalid && shortDescribtion.dirty" [error]="shortDescribtion.errors"></app-form-error>
  </div>

  <div>
    <label class="form__label">Category*
      <select class="form__category" (change)="onCategorySelected($event)">
        <option *ngFor="let category of categories"
                [selected]="category.categoryName == selectedCategory"
                value="{{category.categoryName}}">
          {{category.categoryName}}
        </option>
      </select>
    </label>
  </div>

  <div *ngIf="form.get('fullNews') as fullNews">
    <label class="form__label form__user-text">
      Full-news*
      <textarea
        class="form__textarea form__field"
        formControlName="fullNews"
      ></textarea>
    </label>
    <app-form-error *ngIf="fullNews.invalid && fullNews.dirty" [error]="fullNews.errors"></app-form-error>
  </div>

  <div *ngIf="form.get('audioName') as audioName">
    <label class="form__label">Load audio*
      <input
        class="form__input form__field"
        formControlName="audioName"
        type="text"
      />
    </label>
    <app-form-error *ngIf="audioName.invalid && audioName.dirty" [error]="audioName.errors"></app-form-error>
  </div>

  <div *ngIf="form.get('imgName') as imgName">
    <label class="form__label">Load general img*
      <input
        class="form__input form__field"
        formControlName="imgName"
        type="text"
      />
    </label>
    <app-form-error *ngIf="imgName.invalid && imgName.dirty" [error]="imgName.errors"></app-form-error>
  </div>

  <div>
    <label class="form__label">Enter tags separated by space
    <input
      class="form__input form__field"
      formControlName="tags"
      type="text"
    />
    </label>
  </div>

  <div>
    <label class="form__label-checkbox">
      <input type="checkbox"
             [checked]=areCommentsDisabled
             (change)="areCommentsDisabled = !areCommentsDisabled"
             formControlName="areCommentsDisabled"
      />
      Are comments disabled?
    </label>
  </div>

  <div>
    <button
      class="form__button"
      type="submit"
    >Send
    </button>

    <div class="form__error-message" *ngIf="isButtonWarningOn">Please fill all fields*</div>
  </div>
</form>
